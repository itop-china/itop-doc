---
title: "实施指南"
linkTitle: "实施指南"
date: 2022-11-29
weight: 5
description: >
  本文档解释了iTop实施的关键概念和操作步骤

---

本文档的目的是一步步地描述，对于组织实现iTop必须要创建哪些iTop对象。例如，为了创建用户请求工单，需要确保此请求的发起人存在，并且至少有一个与该客户签订的合同，它定义了交付给客户的服务，等等。本文档解释了在iTop中创建对象的顺序。

为了创建一个 _干净_ 的生产环境，最好安装一个 _不包含_ 示例数据的iTop实例。不过，也可以使用示例数据安装另一个iTop实例，以便快速查看生成一个完整功能实例所需要的基本数据。

以下图解总结了指导流程:

[![iTop on-boarding cheat sheet](https://www.itophub.io/wiki/media?w=400&tok=ba212c&media=3_0_0:implementation:impleguideschema.png "iTop on-boarding cheat sheet")](https://www.itophub.io/wiki/media-detail?id=3_0_0:implementation:start&media=3_0_0:implementation:impleguideschema.png "3_0_0:implementation:impleguideschema.png")

本文档没有详细描述如何使用iTop的所有特性。对于更多使用iTop的细节，参考 “[iTop用户手册](../enduser/)”。

## iTop中创建新的对象
----------------------------

在iTop中有多重创建新对象的方式，这取决于对象的类以及是否希望交互式地、逐个地或者批量地创建对象。通过菜单创建每个对象的对应类的步骤在[数据模型文档](../datamodel/)中详细进行了解释，但是对于管理员来说，有两种更便捷的方法：

*   **通过 CSV 导入**: 如果希望创建同一类对象的多个实例，通常从现有数据集导入它们更容易。“数据管理”菜单下的CSV导入工具就是为此设计的。以CSV格式准备数据：作为文本文件，每行一个对象，值由固定字符(分号、逗号或制表符)分隔。然后通过CSV导入向导引导，将文件加载到iTop中。
    
*   **通过全局检索**: 要创建任何类的新对象，请使用“管理工具”部分的菜单“通用搜索”。执行这个类的对象的搜索，然后使用“操作 / 新建…”弹出菜单来创建类的新实例。
    

## 配置管理
------------------------

[![Configuration Management on-boarding](https://www.itophub.io/wiki/media?w=500&tok=80f8f0&media=3_0_0:implementation:configuration_management.png "Configuration Management on-boarding")](https://www.itophub.io/wiki/media-detail?id=3_0_0:implementation:start&media=3_0_0:implementation:configuration_management.png "3_0_0:implementation:configuration_management.png")

### 创建组织

当计划部署iTop时，要做的首要决定是关于组织的结构。在iTop中，组织主要用于两个目的：从安全的角度来说，描述客户和供应商实体以及划分数据。几乎所有在iTop中加载的对象都与组织有关，因此在将其他对象加载到iTop之前，创建一个合适的组织结构是很重要的。

#### 理解客户和供应商

在iTop中，没有所谓的“客户”或“供应商”，只有“组织”。就像在现实生活中一样，组织是客户还是供应商取决于观察的视角。例如，组织“公司A”可以是“公司B”的客户，同时也是“公司C”的供应商。iTop中的客户/供应商关系使用合同表示。如果有一个合同，“B公司”作为供应商，“A公司”作为客户，那么“A公司”就是“B公司”的客户。

#### 客户合同和供应商合同的不同之处在哪里？

供应商合同是客户合同的稍微简化版本，有两个限制:

*   供应商与服务目录中的任何服务都不相关。
    
*   服务级别协议在供应商合同中记录为一个自由的文本字段，因此不能用于iTop中的自动计算。
    
供应商合同对于记录与第三方供应商的合同(在ITIL术语中称为支持合同)非常有价值，对于这些合同，iTop中不会跟踪任何工单。

当然，可以使用客户合同来描述与第三方供应商的合同关系，但这代表着还必须在iTop中记录该供应商的服务目录。

#### 组织和访问权限

除了客户/供应商关系之外，在iTop中创建多个组织的另一个原因是要限制对一些管理数据区域的访问。

在iTop中，从数据库中“读取”(或显示)对象的权限是基于每个组织定义的。每个用户(在她/他的帐户的定义中)赋予了一组组织的访问权限。

组织可以构造成层次结构。在这种情况下，访问权限将从“父”组织继承到“子”组织。例如，如果“公司A”有两个子组织:“公司A1”和“公司A2”，那么如果用户有权访问“公司A”中的对象，那么她/他也将允许访问“公司A1”和“公司A2”中的对象。换而言之，只允许访问“公司A1”的用户将不能访问“公司a”和“公司A2”中的对象。

对象的“写”(即创建、修改或删除)权限仅由分配给用户帐户的角色定义。例如，概要文件“Support Agent”赋予创建或修改用户请求工单(但不删除它们)的权限。

这代表着用户对允许她/他访问的所有组织具有相同的访问权限。

例如，在当前版本的iTop中，用户不能访问组织“公司A”和“公司B”的数据，并且也不能在“组织B”中创建服务器。如果她/他授予了创建服务器的权利，这将同时适用于“公司A”和“公司B”。

### 创建地理位置

根据地理位置进行对象分组是非常有用的。当在CMDB中创建CI时，即使地理位置属性不是一个强制字段，也强烈建议预先创建地理位置，然后跟踪所有CI的位置。

要认真地计划去创建地理位置。位置很难识别(没有普遍接受的位置唯一标识符)，如果您的公司还没有，您可能想要提出一个 _命名约定_ 避免CMDB中重复的位置。

#### 共享地址位置

在企业环境中，即使角色和职责的分割有利于创建若干个子组织，但经常需要在几个组织之间拥有“共享”位置来记录“协作位置”。在iTop的标准版本中，它没有提供在组织之间实际“共享”对象的方法。但是，地理位置以与访问权相同的方式从父组织“继承”到子组织。这意味着属于“公司A2”的人员、服务器或网络设备可以位于属于“公司A”的位置。

### 创建人员

人员在iTop中非常重要，因为他们用来定义所有的联系人及其职责。一个人只属于一个组织。人员可以是一个或多个团队的成员，因此应该在尝试设置团队之前创建人员。

而且，每个用户记录都链接到一个人员对象。因此，必须在将用户帐户导入到iTop之前创建人员。用户记录定义了访问权限(和识别方法)，而人员对象定义了关于联系人的信息:姓名、位置、电子邮件地址、电话……

### 创建团队

为了定义职责，团队与几种类型的对象(如合同或工单)相关联。团队也被用作分配工单的“工作组”。用于分配工单的团队也必须至少有一个成员(分配工单的处理人)。在团队和人员之间的链接上的属性“角色”不是强制性的，因此可以将其保留为空，但是定义团队中人员的角色(团队领导、经理……)是有价值的。

### 设备和软件配置

一旦导入了组织、位置和联系人(团队和人员)的结构，就可以开始填充CMDB了。

由于软件实例依赖于软件目录中定义的软件类型，并且在安装到特定主机时被记录，因此应该首先记录:

*   物理基础设施:服务器、网络设备、PC等……
    
*   软件目录，通过创建需要的“软件”对象的类型
    

## 服务管理
------------------

在iTop中管理工单之前，必须定义 **_服务目录_** 、 **_交付模式_** 和 **_合同_** 。
[![Service Management on-boarding](https://www.itophub.io/wiki/media?w=500&tok=e54611&media=3_0_0:implementation:service_management.png "Service Management on-boarding")](https://www.itophub.io/wiki/media-detail?id=3_0_0:implementation:start&media=3_0_0:implementation:service_management.png "3_0_0:implementation:service_management.png")

### 服务目录

“服务目录”是可以从给定供应商组织获得的服务的列表。在iTop中，通过创建服务对象来记录服务目录，并将其分配给给定的组织(视为服务的提供者)。服务通过两类对象在两级层次结构中组织:**服务**和**子服务**。在加载子服务之前创建顶级服务。

第三级的“服务族”用于将服务分组在一起，对于增强型门户来说是 **强制性的** 。

一旦定义了服务目录(服务和服务子类别)，就可以创建客户合同，通过为每一对供应商/客户创建一个客户合同，并将适当的服务链接到合同，从而将每个“客户”组织与其“供应商”链接起来。

### 交付模式

交付模型是定义哪个团队为哪个客户工作的对象。您可以使用交付模式对象将给定的一组服务的所有“支持团队”或专用于特定客户的支持团队组合在一起。必须为每个客户组织分配一个且只能有一个交付模式。

在标准的iTop 2.0数据模型中，团队和服务之间没有链接。将工单分配给团队时的唯一限制是，团队必须是工单的客户组织的所指定的交付模式的一部分。

例如，如果拥有以下的团队：

*   **服务台团队**：一个处理所有帮助台请求/电话的团队。
    
*   **MS办公支持团队**：负责处理所有有关MS Office的支持请求的团队。
    
*   **硬件支持团队**：处理硬件呼叫(更换，新硬件订单)的团队。
    
*   **网络支持团队**：处理网络相关问题的团队。
    
*   **客户B服务台团队**：专门为客户B服务的服务台团队。
    
*   **客户B硬件团队**：专门为客户B服务的处理硬件呼叫(更换，新硬件订单)的团队。
    

然后，可以构建两个不同的交付模式:

*   “交付模式1”的组成:
    
    *   服务台团队
        
    *   MS办公支持团队
        
    *   网络支持团队
        
*   “交付模式2”的组成:
    
    *   客户B服务台团队
        
    *   客户B硬件团队
        
    *   MS办公支持团队

“交付模式1”将由组织的“客户A”、“客户A1”、“客户A2”和“客户C”使用;而“交付模式2”将由“客户B”使用。

### 服务等级协议和服务等级目标

在iTop中管理工单，服务等级协议(SLA)和服务等级目标(SLT)定义不是必须的，但是如果没有它们，iTop既不能计算处理工单的最后期限，也不能自动升级工单。

为了计算是否遵守了预期的服务等级协议，iTop引入了两种可能的指标类型，称为SLT(服务等级目标)：

*   **TTO (响应时间)**：从创建工单到将工单分配给处理人之间的时间。
    
*   **TTR (解决时间)**：从创建工单到解决工单之间的时间(即当工单进入“已解决”状态时测量)    

SLT 定义了相关的持续时间：

*   **衡量标准**：要么是TTO，要么是TTR
    
*   **工单类型**：（事件或服务请求）
    
*   **优先级**：（因为优先级高的工单一般处理速度更快）

SLA被简单地定义为一组命名的SLT（例如，用于区分“金牌”和“银牌”服务级别)。

在iTop中SLA/SLT的定义有两个影响：

*   通知可以定义为与某个度量相关联的“阈值”的任何百分比(例如，通过配置通知，当达到50%的待解决时间时向处理工单的处理人发送邮件，当达到75%时向团队负责人发送邮件)。
    
*   当达到一个指标的100%时，工单将自动设置为一个特殊的“升级”状态(在工单的生命周期中定义了两个特定的状态:升级TTO和升级TTR)。进入到这种状态还可以用来触发特定的通知。

例如，可以定义以下的服务等级矩阵：

| 事件 – 高优先级 | 事件 – 中优先级 | 服务请求 – 高优先级 | 服务请求 – 中优先级 |
| --- | --- | --- | --- |
| 响应时间: 5 min  | 响应时间: 30 min  | 响应时间: 30 min  | 响应时间: 4 hours |
| 解决时间: 1 hour | 解决时间: 4 hours | 解决时间: 4 hours | 解决时间: n/a     |

这将导致创建4个SLT，对应表格中的每一行每。这4个SLT可以分组在一个名为“金牌服务等级”的SLA下。

最后，SLA可以与客户合同相关联，以便为合同定义适用的度量标准。

iTop实例现在已准备就绪。你可以查看 [通知配置](https://www.itophub.io/wiki/page?id=3_0_0:admin:notifications "3_0_0:admin:notifications") 设置工单邮件通知的方法。

---
原文：<https://www.itophub.io/wiki/page?id=3_0_0:implementation:start> 

版本：3_0_0/implementation/start.txt · Last modified: 2022/01/21 16:52 (external edit)